# For each pipe, set its power to the maximum of adjacent pipes
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=1..}] run scoreboard players set @s power 1
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=2..}] run scoreboard players set @s power 2
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=3..}] run scoreboard players set @s power 3
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=4..}] run scoreboard players set @s power 4
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=5..}] run scoreboard players set @s power 5
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=6..}] run scoreboard players set @s power 6
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=7..}] run scoreboard players set @s power 7
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=8..}] run scoreboard players set @s power 8
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=9..}] run scoreboard players set @s power 9
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=10..}] run scoreboard players set @s power 10
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=11..}] run scoreboard players set @s power 11
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=12..}] run scoreboard players set @s power 12
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=13..}] run scoreboard players set @s power 13
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=14..}] run scoreboard players set @s power 14
execute as @e[tag=pipe] at @s run execute if entity @e[tag=pipe,distance=..1,scores={power=15..}] run scoreboard players set @s power 15
